{"version":3,"file":"file-picker.cjs.production.min.js","sources":["../src/components/Logo.tsx","../src/components/Modal.tsx","../node_modules/regenerator-runtime/runtime.js","../src/components/Breadcrumbs.tsx","../src/utils/bytesToSize.ts","../src/components/FileDetails.tsx","../src/components/LoadingTable.tsx","../src/components/FilesTable.tsx","../src/components/Toast.tsx","../src/utils/useToast.tsx","../src/utils/useUpload.ts","../src/components/SaveFileForm.tsx","../src/components/Search.tsx","../src/components/SlideOver.tsx","../src/components/Spinner.tsx","../src/components/UploadButton.tsx","../src/utils/usePrevious.tsx","../node_modules/swr/infinite/dist/index.esm.js","../src/components/FilesContainer.tsx","../src/utils/useDebounce.tsx","../src/components/SelectConnection.tsx","../src/components/ModalContent.tsx","../src/components/FilePicker.tsx"],"sourcesContent":["import React from 'react'\n\nconst Logo = ({ className = '' }) => {\n  return (\n    <svg\n      width={95}\n      height={23}\n      viewBox=\"0 0 95 23\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={className}\n    >\n      <path\n        d=\"M1.2 15.05C1.25 14.2167 1.45833 13.525 1.825 12.975C2.19167 12.425 2.65833 11.9833 3.225 11.65C3.79167 11.3167 4.425 11.0833 5.125 10.95C5.84167 10.8 6.55833 10.725 7.275 10.725C7.925 10.725 8.58333 10.775 9.25 10.875C9.91667 10.9583 10.525 11.1333 11.075 11.4C11.625 11.6667 12.075 12.0417 12.425 12.525C12.775 12.9917 12.95 13.6167 12.95 14.4V21.125C12.95 21.7083 12.9833 22.2667 13.05 22.8C13.1167 23.3333 13.2333 23.7333 13.4 24H9.8C9.73333 23.8 9.675 23.6 9.625 23.4C9.59167 23.1833 9.56667 22.9667 9.55 22.75C8.98333 23.3333 8.31667 23.7417 7.55 23.975C6.78333 24.2083 6 24.325 5.2 24.325C4.58333 24.325 4.00833 24.25 3.475 24.1C2.94167 23.95 2.475 23.7167 2.075 23.4C1.675 23.0833 1.35833 22.6833 1.125 22.2C0.908333 21.7167 0.8 21.1417 0.8 20.475C0.8 19.7417 0.925 19.1417 1.175 18.675C1.44167 18.1917 1.775 17.8083 2.175 17.525C2.59167 17.2417 3.05833 17.0333 3.575 16.9C4.10833 16.75 4.64167 16.6333 5.175 16.55C5.70833 16.4667 6.23333 16.4 6.75 16.35C7.26667 16.3 7.725 16.225 8.125 16.125C8.525 16.025 8.84167 15.8833 9.075 15.7C9.30833 15.5 9.41667 15.2167 9.4 14.85C9.4 14.4667 9.33333 14.1667 9.2 13.95C9.08333 13.7167 8.91667 13.5417 8.7 13.425C8.5 13.2917 8.25833 13.2083 7.975 13.175C7.70833 13.125 7.41667 13.1 7.1 13.1C6.4 13.1 5.85 13.25 5.45 13.55C5.05 13.85 4.81667 14.35 4.75 15.05H1.2ZM9.4 17.675C9.25 17.8083 9.05833 17.9167 8.825 18C8.60833 18.0667 8.36667 18.125 8.1 18.175C7.85 18.225 7.58333 18.2667 7.3 18.3C7.01667 18.3333 6.73333 18.375 6.45 18.425C6.18333 18.475 5.91667 18.5417 5.65 18.625C5.4 18.7083 5.175 18.825 4.975 18.975C4.79167 19.1083 4.64167 19.2833 4.525 19.5C4.40833 19.7167 4.35 19.9917 4.35 20.325C4.35 20.6417 4.40833 20.9083 4.525 21.125C4.64167 21.3417 4.8 21.5167 5 21.65C5.2 21.7667 5.43333 21.85 5.7 21.9C5.96667 21.95 6.24167 21.975 6.525 21.975C7.225 21.975 7.76667 21.8583 8.15 21.625C8.53333 21.3917 8.81667 21.1167 9 20.8C9.18333 20.4667 9.29167 20.1333 9.325 19.8C9.375 19.4667 9.4 19.2 9.4 19V17.675ZM22.2305 21.675C21.6638 21.675 21.1805 21.5583 20.7805 21.325C20.3805 21.0917 20.0555 20.7917 19.8055 20.425C19.5721 20.0417 19.3971 19.6 19.2805 19.1C19.1805 18.6 19.1305 18.0917 19.1305 17.575C19.1305 17.0417 19.1805 16.525 19.2805 16.025C19.3805 15.525 19.5471 15.0833 19.7805 14.7C20.0305 14.3167 20.3471 14.0083 20.7305 13.775C21.1305 13.525 21.6221 13.4 22.2055 13.4C22.7721 13.4 23.2471 13.525 23.6305 13.775C24.0305 14.0083 24.3555 14.325 24.6055 14.725C24.8555 15.1083 25.0305 15.55 25.1305 16.05C25.2471 16.55 25.3055 17.0583 25.3055 17.575C25.3055 18.0917 25.2555 18.6 25.1555 19.1C25.0555 19.6 24.8805 20.0417 24.6305 20.425C24.3971 20.7917 24.0805 21.0917 23.6805 21.325C23.2971 21.5583 22.8138 21.675 22.2305 21.675ZM15.7055 11.075V28.525H19.2555V22.4H19.3055C19.7388 23.0333 20.2888 23.5167 20.9555 23.85C21.6388 24.1667 22.3805 24.325 23.1805 24.325C24.1305 24.325 24.9555 24.1417 25.6555 23.775C26.3721 23.4083 26.9638 22.9167 27.4305 22.3C27.9138 21.6833 28.2721 20.975 28.5055 20.175C28.7388 19.375 28.8555 18.5417 28.8555 17.675C28.8555 16.7583 28.7388 15.8833 28.5055 15.05C28.2721 14.2 27.9138 13.4583 27.4305 12.825C26.9471 12.1917 26.3388 11.6833 25.6055 11.3C24.8721 10.9167 23.9971 10.725 22.9805 10.725C22.1805 10.725 21.4471 10.8833 20.7805 11.2C20.1138 11.5167 19.5638 12.025 19.1305 12.725H19.0805V11.075H15.7055ZM34.6387 9.075V6.15H31.0887V9.075H34.6387ZM31.0887 11.075V24H34.6387V11.075H31.0887ZM46.609 17.5C46.609 18.0333 46.559 18.55 46.459 19.05C46.359 19.55 46.1923 20 45.959 20.4C45.7257 20.7833 45.409 21.0917 45.009 21.325C44.6257 21.5583 44.1423 21.675 43.559 21.675C43.009 21.675 42.534 21.5583 42.134 21.325C41.7507 21.075 41.4257 20.7583 41.159 20.375C40.909 19.975 40.7257 19.525 40.609 19.025C40.4923 18.525 40.434 18.025 40.434 17.525C40.434 16.9917 40.484 16.4833 40.584 16C40.7007 15.5 40.8757 15.0583 41.109 14.675C41.359 14.2917 41.684 13.9833 42.084 13.75C42.484 13.5167 42.9757 13.4 43.559 13.4C44.1423 13.4 44.6257 13.5167 45.009 13.75C45.3923 13.9833 45.7007 14.2917 45.934 14.675C46.184 15.0417 46.359 15.475 46.459 15.975C46.559 16.4583 46.609 16.9667 46.609 17.5ZM46.659 22.35V24H50.034V6.15H46.484V12.65H46.434C46.034 12.0167 45.484 11.5417 44.784 11.225C44.1007 10.8917 43.3757 10.725 42.609 10.725C41.659 10.725 40.8257 10.9167 40.109 11.3C39.3923 11.6667 38.7923 12.1583 38.309 12.775C37.8423 13.3917 37.484 14.1083 37.234 14.925C37.0007 15.725 36.884 16.5583 36.884 17.425C36.884 18.325 37.0007 19.1917 37.234 20.025C37.484 20.8583 37.8423 21.6 38.309 22.25C38.7923 22.8833 39.4007 23.3917 40.134 23.775C40.8673 24.1417 41.7173 24.325 42.684 24.325C43.534 24.325 44.2923 24.175 44.959 23.875C45.6423 23.5583 46.1923 23.05 46.609 22.35H46.659ZM61.4172 16.15H55.6422C55.6589 15.9 55.7089 15.6167 55.7922 15.3C55.8922 14.9833 56.0505 14.6833 56.2672 14.4C56.5005 14.1167 56.8005 13.8833 57.1672 13.7C57.5505 13.5 58.0255 13.4 58.5922 13.4C59.4589 13.4 60.1005 13.6333 60.5172 14.1C60.9505 14.5667 61.2505 15.25 61.4172 16.15ZM55.6422 18.4H64.9672C65.0339 17.4 64.9505 16.4417 64.7172 15.525C64.4839 14.6083 64.1005 13.7917 63.5672 13.075C63.0505 12.3583 62.3839 11.7917 61.5672 11.375C60.7505 10.9417 59.7922 10.725 58.6922 10.725C57.7089 10.725 56.8089 10.9 55.9922 11.25C55.1922 11.6 54.5005 12.0833 53.9172 12.7C53.3339 13.3 52.8839 14.0167 52.5672 14.85C52.2505 15.6833 52.0922 16.5833 52.0922 17.55C52.0922 18.55 52.2422 19.4667 52.5422 20.3C52.8589 21.1333 53.3005 21.85 53.8672 22.45C54.4339 23.05 55.1255 23.5167 55.9422 23.85C56.7589 24.1667 57.6755 24.325 58.6922 24.325C60.1589 24.325 61.4089 23.9917 62.4422 23.325C63.4755 22.6583 64.2422 21.55 64.7422 20H61.6172C61.5005 20.4 61.1839 20.7833 60.6672 21.15C60.1505 21.5 59.5339 21.675 58.8172 21.675C57.8172 21.675 57.0505 21.4167 56.5172 20.9C55.9839 20.3833 55.6922 19.55 55.6422 18.4ZM75.8727 15.625H79.3477C79.2977 14.7917 79.0977 14.075 78.7477 13.475C78.3977 12.8583 77.9393 12.35 77.3727 11.95C76.8227 11.5333 76.1893 11.225 75.4727 11.025C74.7727 10.825 74.0393 10.725 73.2727 10.725C72.2227 10.725 71.2893 10.9 70.4727 11.25C69.656 11.6 68.9643 12.0917 68.3977 12.725C67.831 13.3417 67.3977 14.0833 67.0977 14.95C66.8143 15.8 66.6727 16.725 66.6727 17.725C66.6727 18.6917 66.831 19.5833 67.1477 20.4C67.4643 21.2 67.906 21.8917 68.4727 22.475C69.0393 23.0583 69.7227 23.5167 70.5227 23.85C71.3393 24.1667 72.231 24.325 73.1977 24.325C74.9143 24.325 76.3227 23.875 77.4227 22.975C78.5227 22.075 79.1893 20.7667 79.4227 19.05H75.9977C75.881 19.85 75.5893 20.4917 75.1227 20.975C74.6727 21.4417 74.0227 21.675 73.1727 21.675C72.6227 21.675 72.156 21.55 71.7727 21.3C71.3893 21.05 71.081 20.7333 70.8477 20.35C70.631 19.95 70.4727 19.5083 70.3727 19.025C70.2727 18.5417 70.2227 18.0667 70.2227 17.6C70.2227 17.1167 70.2727 16.6333 70.3727 16.15C70.4727 15.65 70.6393 15.2 70.8727 14.8C71.1227 14.3833 71.4393 14.05 71.8227 13.8C72.206 13.5333 72.681 13.4 73.2477 13.4C74.7643 13.4 75.6393 14.1417 75.8727 15.625ZM81.7531 6.15V24H85.3031V19.55L86.6781 18.225L90.2281 24H94.5281L89.1031 15.825L93.9781 11.075H89.7781L85.3031 15.725V6.15H81.7531Z\"\n        transform=\"translate(0 -6)\"\n        fill=\"white\"\n      />\n    </svg>\n  )\n}\nexport default Logo\n","import React, { CSSProperties, useEffect, useState } from 'react'\n\nimport Logo from './Logo'\nimport { Transition } from '@headlessui/react'\nimport { createPortal } from 'react-dom'\n\nexport interface Props extends React.HTMLAttributes<HTMLDivElement> {\n  onClose: () => void\n  isOpen: boolean\n  className?: string\n  style?: CSSProperties\n  showAttribution?: boolean\n}\n\nexport const Modal = React.forwardRef<HTMLDivElement, Props>(function Modal(props, ref) {\n  const { children, onClose, isOpen, showAttribution, className = '', style = {}, ...other } = props\n\n  const [mounted, setMounted] = useState(false)\n\n  useEffect(() => {\n    setMounted(true)\n  }, [])\n\n  const modalComponent = (\n    <Transition show={isOpen}>\n      <Transition.Child\n        enter=\"transition ease-out duration-150\"\n        enterFrom=\"opacity-0\"\n        enterTo=\"opacity-100\"\n        leave=\"transition ease-in duration-150\"\n        leaveFrom=\"opacity-100\"\n        leaveTo=\"opacity-0\"\n      >\n        <div\n          className=\"fixed inset-0 z-40 flex items-end bg-gray-400 bg-opacity-75 dark:bg-gray-600 sm:items-center sm:justify-center\"\n          data-testid=\"backdrop\"\n          onClick={onClose}\n        >\n          {showAttribution ? (\n            <a\n              className=\"absolute flex text-sm text-center text-gray-100 bottom-5 lg:left-5 xl:left-6 xl:bottom-6\"\n              href=\"https://apideck.com/products/unify\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Powered by <Logo className=\"h-5\" />\n            </a>\n          ) : null}\n          <Transition.Child\n            enter=\"transition ease-out duration-150\"\n            enterFrom=\"opacity-0 transform translate-y-1/4 scale-95\"\n            enterTo=\"opacity-100 scale-100\"\n            leave=\"transition ease-in duration-150\"\n            leaveFrom=\"opacity-100 scale-100\"\n            leaveTo=\"opacity-0  transform translate-y-1/4 scale-95\"\n            className={`w-full p-5 overflow-hidden bg-white dark:bg-gray-800 dark-text-gray-400 shadow-lg rounded-t-lg sm:p-6 no-scrollbar sm:rounded-lg sm:m-4 sm:max-w-xl relative ${className}`}\n            style={{ maxHeight: '90%', ...style }}\n            ref={ref}\n            role=\"dialog\"\n            id=\"modal-component\"\n            onClick={(e: React.MouseEvent<HTMLElement>) => e.stopPropagation()}\n            {...other}\n          >\n            {children}\n          </Transition.Child>\n        </div>\n      </Transition.Child>\n    </Transition>\n  )\n\n  return mounted ? createPortal(modalComponent, document.body) : null\n})\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import React, { Fragment } from 'react'\n\nimport { File } from '../types/File'\nimport { Transition } from '@headlessui/react'\n\ninterface Props {\n  folders: File[]\n  handleClick: (file?: File) => void\n}\n\nconst Breadcrumbs = ({ folders, handleClick }: Props) => {\n  return (\n    <Fragment>\n      <div className=\"flex items-center text-sm\">\n        <button className=\"text-gray-600 hover:text-gray-900\" onClick={() => handleClick()}>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"inline-block w-5 h-5 text-yellow-300\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z\"\n            />\n          </svg>\n        </button>\n        {folders.map((folder, i) => {\n          return (\n            <Transition\n              show={true}\n              enter=\"transition ease-out duration-200\"\n              enterFrom=\"transform opacity-60\"\n              enterTo=\"transform opacity-100\"\n              leave=\"transition ease-in duration-200\"\n              leaveFrom=\"transform opacity-100\"\n              leaveTo=\"transform opacity-0\"\n              key={i}\n            >\n              <Transition.Child\n                enter=\"transition ease-out duration-200\"\n                enterFrom=\"transform opacity-60 translate-x-1\"\n                enterTo=\"transform opacity-100\"\n                leave=\"transition ease-in duration-100\"\n                leaveFrom=\"transform opacity-100\"\n                leaveTo=\"transform opacity-0\"\n                className=\"flex items-center\"\n                as=\"div\"\n                key={folder.id}\n              >\n                <svg\n                  className=\"flex-shrink-0 w-5 h-5 text-gray-300\"\n                  fill=\"currentColor\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path\n                    fillRule=\"evenodd\"\n                    d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\n                    clipRule=\"evenodd\"\n                  />\n                </svg>\n                {i === folders.length - 1 ? (\n                  <span className=\"font-medium text-gray-900\">{folder.name}</span>\n                ) : (\n                  <button\n                    className=\"text-gray-600 hover:text-gray-900\"\n                    onClick={() => handleClick(folder)}\n                  >\n                    {folder.name}\n                  </button>\n                )}\n              </Transition.Child>\n            </Transition>\n          )\n        })}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default Breadcrumbs\n","export const formatBytes = (bytes: number, decimals = 2) => {\n  if (bytes === 0) return '0 Bytes'\n\n  const k = 1024\n  const dm = decimals < 0 ? 0 : decimals\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i]\n}\n","import React, { Dispatch, SetStateAction } from 'react'\nimport { File } from '../types/File'\nimport { formatBytes } from '../utils/bytesToSize'\n\ninterface Props {\n  file: File | null\n  setFile: Dispatch<SetStateAction<File | null>>\n  onSelect: (file: File) => any\n}\n\nconst FileDetails = ({ file, setFile, onSelect }: Props) => {\n  if (!file) return <p className=\"p-4 text-center\">No file found</p>\n\n  return (\n    <div className=\"flex flex-col justify-between h-full\">\n      <dl className=\"grid grid-cols-2 gap-x-4 gap-y-6\">\n        <div className=\"col-span-1\">\n          <dt className=\"text-sm font-medium text-gray-500\">Name</dt>\n          <dd className=\"mt-1 text-sm text-gray-900\">{file?.name}</dd>\n        </div>\n        <div className=\"col-span-1\">\n          <dt className=\"text-sm font-medium text-gray-500\">Size</dt>\n          <dd className=\"mt-1 text-sm text-gray-900\">\n            {file?.size ? formatBytes(file?.size) : '-'}\n          </dd>\n        </div>\n        <div className=\"col-span-1\">\n          <dt className=\"text-sm font-medium text-gray-500\">Mime type</dt>\n          <dd className=\"mt-1 text-sm text-gray-900\">{file?.mime_type}</dd>\n        </div>\n        <div className=\"col-span-1\">\n          <dt className=\"text-sm font-medium text-gray-500\">Downloadable</dt>\n          <dd className=\"mt-1 text-sm text-gray-900\">{file?.downloadable ? 'Yes' : 'No'}</dd>\n        </div>\n        <div className=\"col-span-1\">\n          <dt className=\"text-sm font-medium text-gray-500\">Created</dt>\n          <dd className=\"mt-1 text-sm text-gray-900\">\n            <div>\n              <span className=\"mr-2 text-gray-900\">\n                {file?.created_at && new Date(file.created_at).toLocaleDateString()}\n              </span>\n              <span className=\"text-gray-500 \">\n                {file?.created_at && new Date(file.created_at).toLocaleTimeString()}\n              </span>\n            </div>\n          </dd>\n        </div>\n        <div className=\"col-span-1\">\n          <dt className=\"text-sm font-medium text-gray-500\">Updated</dt>\n          <dd className=\"mt-1 text-sm text-gray-900\">\n            <div>\n              <span className=\"mr-2 text-gray-900\">\n                {file?.updated_at && new Date(file.updated_at).toLocaleDateString()}\n              </span>\n              <span className=\"text-gray-500 \">\n                {file?.updated_at && new Date(file.updated_at).toLocaleTimeString()}\n              </span>\n            </div>\n          </dd>\n        </div>\n        <div className=\"col-span-1\">\n          <dt className=\"text-sm font-medium text-gray-500\">Owner</dt>\n          <dd className=\"mt-1 text-sm text-gray-900\">{file?.owner?.name}</dd>\n        </div>\n        <div className=\"col-span-1\">\n          <dt className=\"text-sm font-medium text-gray-500\">Email</dt>\n          <dd className=\"mt-1 text-sm text-gray-900\">{file?.owner?.email}</dd>\n        </div>\n      </dl>\n      <div className=\"flex justify-between pt-6\">\n        <button\n          type=\"button\"\n          className=\"items-center w-full px-3 py-2 mr-2 text-sm font-medium leading-4 text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm sm:mr-3 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n          onClick={() => setFile(null)}\n        >\n          Close\n        </button>\n        <button\n          type=\"button\"\n          className=\"items-center w-full px-3 py-2 ml-2 text-sm font-medium leading-4 text-white bg-blue-600 border border-transparent rounded-md shadow-sm sm:ml-3 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n          onClick={() => onSelect(file)}\n        >\n          Select file\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default FileDetails\n","import React from 'react'\n\ninterface Props {\n  isSearching: boolean\n}\n\nexport const LoadingTable = ({ isSearching }: Props) => {\n  let columns = [\n    {\n      Header: 'Name'\n    },\n    {\n      Header: 'Size'\n    },\n    {\n      Header: 'Updated'\n    }\n  ]\n  const array = Array.from(Array(6).keys())\n  if (isSearching) {\n    columns = [...columns, { Header: 'Service' }]\n  }\n\n  return (\n    <div className=\"overflow-auto\">\n      <table className=\"min-w-full divide-y divide-gray-200\">\n        <thead>\n          <tr>\n            {columns.map((column: any, i: number) => (\n              <th\n                key={`column-${i}`}\n                className={`py-3 space-x-6 text-xs font-medium tracking-wide text-left text-gray-500 uppercase ${\n                  i === columns.length - 1 ? 'text-right' : ''\n                }`}\n              >\n                {column.Header}\n              </th>\n            ))}\n          </tr>\n        </thead>\n\n        <tbody className=\"bg-white divide-y divide-gray-200\">\n          {array.map((_, i) => (\n            <LoadingRow key={i} columns={columns} />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nexport const LoadingRow = ({ columns }: { columns: any[] }) => {\n  return (\n    <tr>\n      {columns.map((_, i) => (\n        <td\n          className={`py-4 space-x-6 text-sm font-medium truncate whitespace-nowrap ${\n            i === columns.length - 1 ? 'text-right' : ''\n          }`}\n          key={`cell-${i}`}\n          style={{ maxWidth: 80 }}\n        >\n          <span className=\"px-16 py-0 bg-gray-200 rounded-sm animate-pulse\"></span>\n        </td>\n      ))}\n    </tr>\n  )\n}\n\nexport default LoadingTable\n","import { useSortBy, useTable } from 'react-table'\n\nimport { Connection } from '..'\nimport { LoadingRow } from './LoadingTable'\nimport React from 'react'\nimport { Transition } from '@headlessui/react'\nimport { formatBytes } from '../utils/bytesToSize'\n\nconst months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\ninterface IProps {\n  data: any[]\n  isLoading?: boolean\n  isLoadingMore?: boolean\n  handleSelect: any\n  searchMode: boolean\n  uploadingMode: boolean\n}\n\nconst FilesTable = ({\n  data = [],\n  isLoadingMore,\n  handleSelect,\n  searchMode,\n  uploadingMode\n}: IProps) => {\n  const columns: any[] = React.useMemo(\n    () => [\n      {\n        Header: 'Name',\n        accessor: 'name',\n        Cell: (props: any) => {\n          const type = props.row.original.type\n          if (type === 'folder') {\n            return (\n              <div className=\"flex items-center\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  className=\"inline-block w-5 h-5 mr-1 text-yellow-300\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\"\n                  />\n                </svg>\n                <span className=\"truncate\">{props.value}</span>\n              </div>\n            )\n          }\n          return (\n            <div className=\"flex items-center truncate\">\n              <svg viewBox=\"0 0 24 24\" className=\"inline-block w-5 h-5 mr-1 text-gray-500\">\n                <path\n                  d=\"M17 6v12c0 .52-.2 1-1 1H4c-.7 0-1-.33-1-1V2c0-.55.42-1 1-1h8l5 5zM14 8h-3.13c-.51 0-.87-.34-.87-.87V4\"\n                  stroke=\"currentColor\"\n                  fill=\"none\"\n                  fillRule=\"evenodd\"\n                  strokeLinejoin=\"round\"\n                />\n              </svg>\n              <span className=\"truncate\">{props.value}</span>\n            </div>\n          )\n        }\n      },\n      {\n        Header: 'Size',\n        accessor: 'size',\n        Cell: ({ value }: { value: number }) => <div>{value ? formatBytes(value) : null}</div>\n      },\n      {\n        Header: 'Updated',\n        accessor: 'updated_at',\n        Cell: ({ value }: { value: string }) => {\n          if (!value) return <span></span>\n          const date = new Date(value)\n          return (\n            <span>{`${months[date.getMonth()]} ${date.getDay()}, ${new Date(\n              value\n            ).toLocaleTimeString([], {\n              hour: '2-digit',\n              minute: '2-digit'\n            })}`}</span>\n          )\n        }\n      },\n      {\n        Header: 'Service',\n        accessor: 'connection',\n        Cell: ({ value }: { value: Connection }) => {\n          if (!value) return <span className=\"hidden text-gray-900\">-</span>\n          return (\n            <div className=\"flex justify-end pr-2\">\n              <img\n                className=\"inline-block w-5 h-5 text-right rounded-full\"\n                src={value?.icon ? value.icon : '/img/logo.png'}\n                alt={value.service_id}\n              />\n            </div>\n          )\n        }\n      }\n    ],\n    []\n  )\n\n  const { getTableBodyProps, headerGroups, rows, prepareRow } = useTable(\n    {\n      columns,\n      data\n    },\n    useSortBy\n  )\n\n  return (\n    <div className=\"overflow-auto\">\n      <table className=\"min-w-full divide-y divide-gray-200\">\n        <thead className=\"\">\n          {headerGroups.map((headerGroup: any, i: number) => (\n            <tr {...headerGroup.getHeaderGroupProps()} key={`headerGroup${i}`}>\n              {headerGroup.headers.map((column: any, i: number) => {\n                if (i === headerGroup.headers.length - 1 && !searchMode) {\n                  return null\n                }\n                return (\n                  <th\n                    key={`column-${i}`}\n                    className={`py-3 pr-2 space-x-6 text-xs font-medium tracking-wide text-left text-gray-500 uppercase ${\n                      (i === headerGroup.headers.length - 2 && !searchMode) ||\n                      (i === headerGroup.headers.length - 1 && searchMode)\n                        ? 'text-right'\n                        : ''\n                    }`}\n                    {...column.getHeaderProps(column.getSortByToggleProps())}\n                  >\n                    {column.render('Header')}\n                    <span>\n                      {column.isSorted ? (\n                        column.isSortedDesc ? (\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            fill=\"none\"\n                            viewBox=\"0 0 24 24\"\n                            stroke=\"currentColor\"\n                            className=\"inline-block w-4 h-4 ml-2 text-gray-500\"\n                          >\n                            <path\n                              strokeLinecap=\"round\"\n                              strokeLinejoin=\"round\"\n                              strokeWidth={2}\n                              d=\"M19 9l-7 7-7-7\"\n                            />\n                          </svg>\n                        ) : (\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            fill=\"none\"\n                            viewBox=\"0 0 24 24\"\n                            stroke=\"currentColor\"\n                            className=\"inline-block w-4 h-4 ml-2 text-gray-500\"\n                          >\n                            <path\n                              strokeLinecap=\"round\"\n                              strokeLinejoin=\"round\"\n                              strokeWidth={2}\n                              d=\"M5 15l7-7 7 7\"\n                            />\n                          </svg>\n                        )\n                      ) : (\n                        ''\n                      )}\n                    </span>\n                  </th>\n                )\n              })}\n            </tr>\n          ))}\n        </thead>\n\n        <tbody {...getTableBodyProps()} className=\"bg-white divide-y divide-gray-200\">\n          {rows.map((row: any, i: number) => {\n            prepareRow(row)\n\n            return (\n              <Transition\n                show={true}\n                enter=\"transition ease-out duration-300\"\n                enterFrom=\"transform opacity-40\"\n                enterTo=\"transform opacity-100\"\n                leave=\"transition ease-in duration-300\"\n                leaveFrom=\"transform opacity-100\"\n                leaveTo=\"transform opacity-0\"\n                as=\"tr\"\n                {...row.getRowProps()}\n                key={`row-${i}`}\n                className={`${\n                  uploadingMode && row.original.type === 'file'\n                    ? 'text-gray-300'\n                    : 'cursor-pointer hover:bg-gray-50 text-gray-900'\n                }`}\n                onClick={() => {\n                  if (!uploadingMode || row.original.type === 'folder') {\n                    handleSelect(row.original)\n                  }\n                }}\n              >\n                {row.cells.map((cell: any, i: number) => {\n                  return (\n                    <td\n                      className={`py-3 space-x-6 text-xs truncate max-w-2xs whitespace-nowrap ${\n                        (i === row.cells.length - 2 && !searchMode) ||\n                        (i === row.cells.length - 1 && searchMode)\n                          ? 'text-right'\n                          : ''\n                      }`}\n                      style={{ maxWidth: '16rem' }}\n                      {...cell.getCellProps()}\n                      key={`cell-${i}`}\n                    >\n                      {cell.render('Cell')}\n                    </td>\n                  )\n                })}\n              </Transition>\n            )\n          })}\n        </tbody>\n      </table>\n      {isLoadingMore ? (\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {Array.from(Array(12).keys()).map((key) => (\n              <LoadingRow key={key} columns={columns} />\n            ))}\n          </tbody>\n        </table>\n      ) : (\n        ''\n      )}\n    </div>\n  )\n}\n\nexport default FilesTable\n","import React, { useEffect, useState } from 'react'\n\nimport { Toast as Props } from '../types/Toast'\nimport { Transition } from '@headlessui/react'\nimport { useToast } from '../utils/useToast'\n\nexport const Toast: React.FC<Props> = ({\n  title,\n  description,\n  type = 'info',\n  id,\n  autoClose,\n  closeAfter,\n  closeText,\n  image\n}) => {\n  const [shouldShow, setShouldShow] = useState(false)\n  const { removeToast } = useToast()\n\n  useEffect(() => {\n    if (!shouldShow) setShouldShow(true)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  useEffect(() => {\n    if (autoClose || closeAfter) {\n      const timer = setTimeout(() => {\n        setShouldShow(false)\n        setTimeout(() => {\n          removeToast(id)\n        }, 300)\n      }, closeAfter || 3500)\n      return () => {\n        clearTimeout(timer)\n      }\n    }\n    return\n  }, [id, removeToast, autoClose])\n\n  const icon = {\n    info: (\n      <svg\n        className=\"w-6 h-6 text-indigo-400\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n        data-testid=\"icon\"\n      >\n        <path\n          d=\"M13 16H12V12H11M12 8H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        />\n      </svg>\n    ),\n    success: (\n      <svg\n        className=\"w-6 h-6 text-green-400\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n        data-testid=\"icon\"\n      >\n        <path\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"2\"\n          d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n        />\n      </svg>\n    ),\n    warning: (\n      <svg\n        className=\"w-6 h-6 text-yellow-500\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n        data-testid=\"icon\"\n      >\n        <path\n          d=\"M12 8V12M12 16H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        />\n      </svg>\n    ),\n    error: (\n      <svg\n        className=\"w-6 h-6 text-red-400\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n        data-testid=\"icon\"\n      >\n        <path\n          d=\"M12 8V12M12 16H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        />\n      </svg>\n    )\n  }\n\n  const borderStyle = {\n    success: 'border-green-400',\n    warning: 'border-yellow-500',\n    error: 'border-red-400',\n    info: 'border-indigo-400'\n  }\n\n  return (\n    <div\n      className=\"flex items-end justify-end w-full px-4 pointer-events-none top-3 right-3\"\n      key={id}\n    >\n      <Transition\n        show={shouldShow}\n        enter=\"transform ease-out duration-300 transition\"\n        enterFrom=\"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2\"\n        enterTo=\"translate-y-0 opacity-100 sm:translate-x-0\"\n        leave=\"transition ease-in duration-200\"\n        leaveFrom=\"opacity-100\"\n        leaveTo=\"opacity-0\"\n        className={`w-full bg-white dark:bg-gray-800 border-l-2 rounded-md shadow-lg pointer-events-auto ${borderStyle[type]}`}\n        style={{ width: 'calc(100% - 120px)', left: 60 }}\n        data-testid=\"toast\"\n      >\n        <div className=\"flex overflow-hidden rounded-lg shadow-xs\">\n          <div className=\"flex flex-col justify-center w-full p-3\">\n            <div className=\"flex items-start\">\n              <div className=\"flex-shrink-0\">{icon[type]}</div>\n              <div className=\"ml-2 w-0 flex-1 pt-0.5 overflow-hidden\">\n                <p className=\"text-sm font-medium leading-5 text-gray-900 dark:text-white\">\n                  {title}\n                </p>\n                {description ? (\n                  <p className=\"mt-1 text-sm leading-5 text-gray-500 dark:text-gray-300\">\n                    {description}\n                  </p>\n                ) : null}\n                {image ? <img src={image} className=\"mt-2 rounded-md\" /> : null}\n              </div>\n            </div>\n          </div>\n          <div className=\"flex border-l border-gray-200 group\">\n            <button\n              className=\"flex items-center justify-center w-full p-3 text-sm font-medium text-gray-600 border border-transparent rounded-none rounded-r-lg hover:text-gray-500 focus:outline-none focus:ring-1 focus:ring-gray-300\"\n              onClick={() => removeToast(id)}\n              data-testid=\"remove\"\n            >\n              {closeText ? (\n                <span>{closeText}</span>\n              ) : (\n                <svg\n                  className=\"text-gray-400 fill-current w-7 h-7 group-hover:text-gray-500 dark:text-gray-300 dark:group-hover:text-gray-100\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 24 24\"\n                  width=\"22\"\n                  height=\"22\"\n                >\n                  <path d=\"M16.24 14.83a1 1 0 0 1-1.41 1.41L12 13.41l-2.83 2.83a1 1 0 0 1-1.41-1.41L10.59 12 7.76 9.17a1 1 0 0 1 1.41-1.41L12 10.59l2.83-2.83a1 1 0 0 1 1.41 1.41L13.41 12l2.83 2.83z\" />\n                </svg>\n              )}\n            </button>\n          </div>\n        </div>\n      </Transition>\n    </div>\n  )\n}\n","import React, { ReactNode, createContext, useCallback, useContext, useState } from 'react'\n\nimport { Toast } from '../types/Toast'\nimport { Toast as ToastComponent } from '../components/Toast'\n\ninterface ContextProps {\n  addToast: (toast: Toast) => void\n  removeToast: (id: number | undefined) => void\n}\n\nconst ToastContext = createContext<Partial<ContextProps>>({})\nlet id = 1\n\nexport const ToastProvider = ({ children }: { children: ReactNode }) => {\n  const [toasts, setToasts] = useState<Toast[]>([])\n\n  const addToast = useCallback(\n    (toast: Toast) => {\n      setToasts((toasts: Toast[]) => [\n        ...toasts,\n        {\n          ...toast,\n          id: id++\n        }\n      ])\n    },\n    [setToasts]\n  )\n\n  const removeToast = useCallback(\n    (id: number | undefined) => {\n      setToasts((toasts) => toasts.filter((toast: Toast) => toast.id !== id))\n    },\n    [setToasts]\n  )\n\n  return (\n    <ToastContext.Provider\n      value={{\n        addToast,\n        removeToast\n      }}\n    >\n      <div className=\"absolute left-0 right-0 w-full\" style={{ zIndex: 100, top: 10 }}>\n        {toasts?.map((toast: Toast, i: number) => (\n          <ToastComponent key={i} {...toast} />\n        ))}\n      </div>\n      {children}\n    </ToastContext.Provider>\n  )\n}\n\nexport const useToast = () => {\n  return useContext(ToastContext) as ContextProps\n}\n","import { useState } from 'react'\nimport { useToast } from './useToast'\n\ninterface Props {\n  onSuccess: (response?: any) => void\n}\n\ninterface UploadFileProps {\n  file: File\n  appId: string\n  consumerId: string\n  serviceId: string\n  folderId: string | null\n  jwt: string\n}\n\nexport const useUpload = ({ onSuccess }: Props) => {\n  const [isLoading, setIsLoading] = useState(false)\n  const [progress, setProgress] = useState<number | null>(null)\n  const { addToast } = useToast()\n\n  const uploadFile = async ({\n    file,\n    appId,\n    consumerId,\n    serviceId,\n    folderId,\n    jwt\n  }: UploadFileProps) => {\n    const headers = {\n      'x-apideck-auth-type': 'JWT',\n      'x-apideck-app-id': appId,\n      'x-apideck-consumer-id': consumerId,\n      'x-apideck-service-id': serviceId,\n      'x-apideck-metadata': JSON.stringify({\n        name: file.name,\n        parent_folder_id: folderId\n      }),\n      Authorization: `Bearer ${jwt}`\n    }\n    setIsLoading(true)\n    setProgress(null)\n    // if file bigger then 4mb then use multi part upload\n    if (file.size > 4000000) {\n      setProgress(5)\n      await uploadLargeFile(file, headers, folderId)\n    } else {\n      await uploadRegularFile(file, headers)\n    }\n  }\n\n  const uploadRegularFile = async (file: File, headers: Record<string, string>) => {\n    try {\n      const raw = await fetch('https://unify.apideck.com/file-storage/files', {\n        headers,\n        method: 'POST',\n        body: file\n      })\n      const response = await raw.json()\n      if (response.error) {\n        addToast({\n          title: 'Something went wrong',\n          description: response.message,\n          type: 'error',\n          autoClose: true\n        })\n      } else {\n        addToast({\n          title: 'File uploaded',\n          description: 'File successfully uploaded',\n          type: 'success',\n          autoClose: true\n        })\n        const fileDetails = await getFile(response.data.id, headers)\n        onSuccess(fileDetails?.data || file)\n      }\n    } catch (error) {\n      addToast({\n        title: 'Something went wrong',\n        description: error as string,\n        type: 'error'\n      })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const getFile = async (fileId: string, headers: any) => {\n    const raw = await fetch(`https://unify.apideck.com/file-storage/files/${fileId}`, {\n      headers\n    })\n    const response = await raw.json()\n    return response\n  }\n\n  const getPartSize = async (file: File, headers: any, folderId: string | null) => {\n    try {\n      const raw = await fetch('https://unify.apideck.com/file-storage/upload-sessions', {\n        headers: { ...headers, 'Content-Type': 'application/json' },\n        method: 'POST',\n        body: JSON.stringify({\n          size: file.size,\n          name: file.name,\n          parent_folder_id: folderId\n        })\n      })\n      const sessionResponse = await raw.json()\n      const sessionId = sessionResponse.data?.id\n      if (!sessionId) return { partSize: null, sessionId: null }\n\n      const rawSession = await fetch(\n        `https://unify.apideck.com/file-storage/upload-sessions/${sessionId}`,\n        {\n          headers: { ...headers, 'Content-Type': 'application/json' }\n        }\n      )\n      const session = await rawSession.json()\n      return { partSize: session.data?.part_size, sessionId }\n    } catch (error) {\n      console.log('Session error', error)\n      return { partSize: null, sessionId: null }\n    }\n  }\n\n  const uploadLargeFile = async (file: File, headers: any, folderId: string | null) => {\n    try {\n      const { partSize, sessionId } = await getPartSize(file, headers, folderId)\n      let currentChunkStartByte = 0\n      let currentChunkFinalByte = partSize > file.size ? file.size : partSize\n      let index = 0\n\n      const uploadChunk = async () => {\n        const chunk = file.slice(currentChunkStartByte, currentChunkFinalByte)\n        try {\n          const raw = await fetch(\n            `https://unify.apideck.com/file-storage/upload-sessions/${sessionId}?part_number=${index}`,\n            {\n              headers: { ...headers, 'Content-Type': file.type },\n              method: 'PUT',\n              body: chunk\n            }\n          )\n          const response = await raw.json()\n          if (response.error) {\n            addToast({\n              title: 'Something went wrong',\n              description: response.message,\n              type: 'error'\n            })\n            return\n          }\n\n          const remainingBytes = file.size - currentChunkFinalByte\n\n          if (currentChunkFinalByte === file.size) {\n            setProgress(100)\n            // All chunks are uploaded. Finish the upload session.\n            const result = await fetch(\n              `https://unify.apideck.com/file-storage/upload-sessions/${sessionId}/finish`,\n              {\n                headers,\n                method: 'POST'\n              }\n            )\n            const finalResponse = await result.json()\n            setIsLoading(false)\n            addToast({\n              title: 'File uploaded',\n              description: 'File successfully uploaded',\n              type: 'success',\n              autoClose: true\n            })\n            onSuccess(finalResponse.data || file)\n            return\n          } else if (remainingBytes < partSize) {\n            // Last chunk to upload\n            currentChunkStartByte = currentChunkFinalByte\n            currentChunkFinalByte = currentChunkStartByte + remainingBytes\n          } else {\n            // Next chunk to upload\n            currentChunkStartByte = currentChunkFinalByte\n            currentChunkFinalByte = currentChunkStartByte + partSize\n          }\n          index++\n          setProgress((index / Math.ceil(file.size / partSize)) * 100)\n          uploadChunk()\n        } catch (error) {\n          setIsLoading(false)\n          addToast({\n            title: 'Something went wrong',\n            description: error as string,\n            type: 'error'\n          })\n        }\n      }\n\n      console.log(`uploading ${Math.ceil(file.size / partSize)} chunks of ${partSize} bytes`)\n\n      if (sessionId && partSize) {\n        uploadChunk()\n      }\n    } catch (error) {\n      console.log('Error', error)\n    }\n  }\n\n  return { uploadFile, isLoading, progress }\n}\n","import React, { ChangeEvent, useState } from 'react'\n\nimport { useUpload } from '../utils/useUpload'\n\nconst SaveFileForm = ({ file, folderId, appId, consumerId, serviceId, jwt, onSuccess }: any) => {\n  const [fileName, setFileName] = useState(file.name)\n  const { uploadFile, isLoading } = useUpload({ onSuccess })\n\n  return (\n    <div className=\"absolute bottom-0 left-0 right-0 bg-white border-t\">\n      <div className=\"flex items-center justify-center p-4\">\n        <input\n          className=\"w-full px-3 py-2 text-sm leading-tight text-gray-700 border border-gray-200 rounded shadow-sm appearance-none focus:outline-none focus:shadow-outline\"\n          name=\"fileName\"\n          placeholder=\"File name\"\n          autoComplete=\"off\"\n          onChange={(event: ChangeEvent<HTMLInputElement>) => setFileName(event.target.value)}\n          value={fileName}\n        />\n        <button\n          type=\"button\"\n          className=\"items-center px-3 py-2 ml-2 text-sm font-medium leading-4 text-white bg-blue-600 border border-transparent rounded-md shadow-sm whitespace-nowrap sm:ml-3 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n          onClick={() =>\n            uploadFile({\n              file: { ...file, name: fileName },\n              folderId,\n              appId,\n              consumerId,\n              serviceId,\n              jwt\n            })\n          }\n        >\n          {isLoading ? 'Uploading...' : 'Save file'}\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default SaveFileForm\n","import React, { ChangeEvent, Dispatch, SetStateAction, useRef } from 'react'\n\nexport interface Props {\n  searchTerm: string\n  setSearchTerm: Dispatch<SetStateAction<string>>\n  isSearchVisible: boolean\n  setIsSearchVisible: Dispatch<SetStateAction<boolean>>\n}\n\nconst Search = ({ setSearchTerm, searchTerm, isSearchVisible, setIsSearchVisible }: Props) => {\n  const inputEl = useRef(null) as any\n\n  const handleClick = () => {\n    if (isSearchVisible) {\n      setSearchTerm('')\n      setIsSearchVisible(false)\n    } else {\n      setIsSearchVisible(true)\n      setTimeout(() => {\n        inputEl.current?.focus()\n      }, 0)\n    }\n  }\n\n  return isSearchVisible ? (\n    <div className=\"h-5\">\n      <div className=\"absolute w-full -inset-x-0 -top-2\">\n        <div className=\"relative\">\n          <button className=\"absolute right-2 top-2\" onClick={() => handleClick()}>\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"w-5 h-5 text-gray-400 transition duration-150 hover:text-gray-500\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n          <input\n            className=\"w-full px-3 py-2 mb-3 text-sm leading-tight text-gray-700 border border-gray-200 rounded shadow-sm appearance-none focus:outline-none focus:shadow-outline\"\n            name=\"search\"\n            placeholder=\"Search\"\n            autoComplete=\"off\"\n            ref={inputEl}\n            onChange={(event: ChangeEvent<HTMLInputElement>) => setSearchTerm(event.target.value)}\n            value={searchTerm}\n          />\n        </div>\n      </div>\n    </div>\n  ) : (\n    <button className=\"\" onClick={() => handleClick()}>\n      <svg\n        className=\"w-5 h-5 text-gray-400 transition duration-150 hover:text-gray-500\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 20 20\"\n        fill=\"currentColor\"\n        aria-hidden=\"true\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    </button>\n  )\n}\n\nexport default Search\n","import { Transition } from '@headlessui/react'\nimport React, { Fragment, ReactNode } from 'react'\n\ninterface Props {\n  open: boolean\n  children: ReactNode\n}\n\nconst SlideOver = ({ open, children }: Props) => {\n  const desktopStyles = { width: 'calc(100% - 3rem)', left: '1.5rem' }\n  const mobileStyles = { width: 'calc(100% - 2rem)', left: '1rem' }\n\n  return (\n    <Transition show={open} as={Fragment}>\n      <div\n        className=\"absolute bottom-0 left-0 right-0 rounded-t-2xl\"\n        style={window?.innerWidth > 768 ? desktopStyles : mobileStyles}\n      >\n        <Transition.Child\n          as={Fragment}\n          enter=\"transform transition ease-in-out duration-300\"\n          enterFrom=\"translate-y-full\"\n          enterTo=\"translate-y-0\"\n          leave=\"transform transition ease-in-out duration-300\"\n          leaveFrom=\"translate-y-0\"\n          leaveTo=\"translate-y-full\"\n        >\n          <div className=\"relative w-full rounded-t-2xl\">\n            <div className=\"flex flex-col h-full py-6 overflow-y-auto border border-gray-200 rounded-t-lg shadow-sm bg-gray-50\">\n              <div className=\"relative flex-1 px-4 sm:px-6\">{children}</div>\n            </div>\n          </div>\n        </Transition.Child>\n      </div>\n    </Transition>\n  )\n}\n\nexport default SlideOver\n","import React from 'react'\n\ninterface Props {\n  className?: string\n}\n\nconst Spinner = ({ className = 'w-8 h-8 text-blue-600' }: Props) => {\n  return (\n    <svg\n      className={`animate-spin ${className}`}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n    >\n      <circle\n        className=\"opacity-25\"\n        cx=\"12\"\n        cy=\"12\"\n        r=\"10\"\n        stroke=\"currentColor\"\n        strokeWidth=\"4\"\n      ></circle>\n      <path\n        className=\"opacity-75\"\n        fill=\"currentColor\"\n        d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n      ></path>\n    </svg>\n  )\n}\n\nexport default Spinner\n","import React from 'react'\nimport Spinner from './Spinner'\nimport { useUpload } from '../utils/useUpload'\n\nconst UploadButton = ({ folderId, appId, consumerId, serviceId, jwt, onSuccess }: any) => {\n  const { uploadFile, isLoading } = useUpload({ onSuccess })\n\n  return (\n    <div className=\"\">\n      <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n        {isLoading ? (\n          <Spinner className=\"w-5 h-5 text-gray-400\" />\n        ) : (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"w-5 h-5 text-gray-400 transition duration-150 hover:text-gray-500\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\n            />\n          </svg>\n        )}\n        <input\n          id=\"file-upload\"\n          name=\"file-upload\"\n          type=\"file\"\n          className=\"sr-only\"\n          onChange={(e: any) =>\n            uploadFile({ file: e.target?.files[0], folderId, appId, consumerId, serviceId, jwt })\n          }\n        />\n      </label>\n    </div>\n  )\n}\n\nexport default UploadButton\n","import { MutableRefObject, useEffect, useRef } from 'react'\n\nexport const usePrevious = (value: any): MutableRefObject<undefined>['current'] => {\n  const ref = useRef()\n  useEffect(() => {\n    ref.current = value\n  }, [value])\n  return ref.current\n}\n","import { useEffect, useLayoutEffect, useState, useRef, useCallback } from 'react';\nimport useSWR from 'swr';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\n\nvar noop = function () { };\n// Using noop() as the undefined value as undefined can possibly be replaced\n// by something else.  Prettier ignore and extra parentheses are necessary here\n// to ensure that tsc doesn't remove the __NOINLINE__ comment.\n// prettier-ignore\nvar UNDEFINED = ( /*#__NOINLINE__*/noop());\nvar OBJECT = Object;\nvar isUndefined = function (v) { return v === UNDEFINED; };\nvar isFunction = function (v) { return typeof v == 'function'; };\nvar STR_UNDEFINED = 'undefined';\nvar hasWindow = function () { return typeof window != STR_UNDEFINED; };\n\nvar IS_SERVER = !hasWindow() || 'Deno' in window;\n// React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser.\nvar useIsomorphicLayoutEffect = IS_SERVER ? useEffect : useLayoutEffect;\n// This assignment is to extend the Navigator type to use effectiveType.\nvar navigatorConnection = typeof navigator !== 'undefined' &&\n    navigator.connection;\n// Adjust the config based on slow connection status (<= 70Kbps).\n!IS_SERVER &&\n    navigatorConnection &&\n    (['slow-2g', '2g'].includes(navigatorConnection.effectiveType) ||\n        navigatorConnection.saveData);\n\n// use WeakMap to store the object->key mapping\n// so the objects can be garbage collected.\n// WeakMap uses a hashtable under the hood, so the lookup\n// complexity is almost O(1).\nvar table = new WeakMap();\n// counter of the key\nvar counter = 0;\n// A stable hash implementation that supports:\n// - Fast and ensures unique hash properties\n// - Handles unserializable values\n// - Handles object key ordering\n// - Generates short results\n//\n// This is not a serialization function, and the result is not guaranteed to be\n// parsible.\nvar stableHash = function (arg) {\n    var type = typeof arg;\n    var constructor = arg && arg.constructor;\n    var isDate = constructor == Date;\n    var result;\n    var index;\n    if (OBJECT(arg) === arg && !isDate && constructor != RegExp) {\n        // Object/function, not null/date/regexp. Use WeakMap to store the id first.\n        // If it's already hashed, directly return the result.\n        result = table.get(arg);\n        if (result)\n            return result;\n        // Store the hash first for circular reference detection before entering the\n        // recursive `stableHash` calls.\n        // For other objects like set and map, we use this id directly as the hash.\n        result = ++counter + '~';\n        table.set(arg, result);\n        if (constructor == Array) {\n            // Array.\n            result = '@';\n            for (index = 0; index < arg.length; index++) {\n                result += stableHash(arg[index]) + ',';\n            }\n            table.set(arg, result);\n        }\n        if (constructor == OBJECT) {\n            // Object, sort keys.\n            result = '#';\n            var keys = OBJECT.keys(arg).sort();\n            while (!isUndefined((index = keys.pop()))) {\n                if (!isUndefined(arg[index])) {\n                    result += index + ':' + stableHash(arg[index]) + ',';\n                }\n            }\n            table.set(arg, result);\n        }\n    }\n    else {\n        result = isDate\n            ? arg.toJSON()\n            : type == 'symbol'\n                ? arg.toString()\n                : type == 'string'\n                    ? JSON.stringify(arg)\n                    : '' + arg;\n    }\n    return result;\n};\n\nvar serialize = function (key) {\n    if (isFunction(key)) {\n        try {\n            key = key();\n        }\n        catch (err) {\n            // dependencies not ready\n            key = '';\n        }\n    }\n    var args = [].concat(key);\n    // If key is not falsy, or not an empty array, hash it.\n    key =\n        typeof key == 'string'\n            ? key\n            : (Array.isArray(key)\n                ? key.length\n                : key)\n                ? stableHash(key)\n                : '';\n    var errorKey = key ? '$err$' + key : '';\n    var isValidatingKey = key ? '$req$' + key : '';\n    return [key, args, errorKey, isValidatingKey];\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar normalize = function (args) {\n    return isFunction(args[1])\n        ? [args[0], args[1], args[2] || {}]\n        : [args[0], null, (args[1] === null ? args[2] : args[1]) || {}];\n};\n\n// Create a custom hook with a middleware\nvar withMiddleware = function (useSWR, middleware) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var _a = normalize(args), key = _a[0], fn = _a[1], config = _a[2];\n        var middlewares = (config.use || []).concat(middleware);\n        return useSWR(key, fn, __assign(__assign({}, config), { use: middlewares }));\n    };\n};\n\n// We have to several type castings here because `useSWRInfinite` is a special\nvar INFINITE_PREFIX = '$inf$';\nvar getFirstPageKey = function (getKey) {\n    return serialize(getKey ? getKey(0, null) : null)[0];\n};\nvar unstable_serialize = function (getKey) {\n    return INFINITE_PREFIX + getFirstPageKey(getKey);\n};\nvar infinite = (function (useSWRNext) {\n    return function (getKey, fn, config) {\n        var rerender = useState({})[1];\n        var didMountRef = useRef(false);\n        var dataRef = useRef();\n        var cache = config.cache, _a = config.initialSize, initialSize = _a === void 0 ? 1 : _a, _b = config.revalidateAll, revalidateAll = _b === void 0 ? false : _b, _c = config.persistSize, persistSize = _c === void 0 ? false : _c, _d = config.revalidateFirstPage, revalidateFirstPage = _d === void 0 ? true : _d;\n        // The serialized key of the first page.\n        var firstPageKey = null;\n        try {\n            firstPageKey = getFirstPageKey(getKey);\n        }\n        catch (err) {\n            // not ready\n        }\n        // We use cache to pass extra info (context) to fetcher so it can be globally\n        // shared. The key of the context data is based on the first page key.\n        var contextCacheKey = null;\n        // Page size is also cached to share the page data between hooks with the\n        // same key.\n        var pageSizeCacheKey = null;\n        if (firstPageKey) {\n            contextCacheKey = '$ctx$' + firstPageKey;\n            pageSizeCacheKey = '$len$' + firstPageKey;\n        }\n        var resolvePageSize = useCallback(function () {\n            var cachedPageSize = cache.get(pageSizeCacheKey);\n            return isUndefined(cachedPageSize) ? initialSize : cachedPageSize;\n            // `cache` isn't allowed to change during the lifecycle\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [pageSizeCacheKey, initialSize]);\n        // keep the last page size to restore it with the persistSize option\n        var lastPageSizeRef = useRef(resolvePageSize());\n        // When the page key changes, we reset the page size if it's not persisted\n        useIsomorphicLayoutEffect(function () {\n            if (!didMountRef.current) {\n                didMountRef.current = true;\n                return;\n            }\n            if (firstPageKey) {\n                // If the key has been changed, we keep the current page size if persistSize is enabled\n                cache.set(pageSizeCacheKey, persistSize ? lastPageSizeRef.current : initialSize);\n            }\n            // `initialSize` isn't allowed to change during the lifecycle\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [firstPageKey]);\n        // Actual SWR hook to load all pages in one fetcher.\n        var swr = useSWRNext(firstPageKey ? INFINITE_PREFIX + firstPageKey : null, function () { return __awaiter(void 0, void 0, void 0, function () {\n            var _a, forceRevalidateAll, originalData, data, pageSize, previousPageData, i, _b, pageKey, pageArgs, pageData, shouldFetchPage;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _a = cache.get(contextCacheKey) || [], forceRevalidateAll = _a[0], originalData = _a[1];\n                        data = [];\n                        pageSize = resolvePageSize();\n                        previousPageData = null;\n                        i = 0;\n                        _c.label = 1;\n                    case 1:\n                        if (!(i < pageSize)) return [3 /*break*/, 5];\n                        _b = serialize(getKey ? getKey(i, previousPageData) : null), pageKey = _b[0], pageArgs = _b[1];\n                        if (!pageKey) {\n                            // `pageKey` is falsy, stop fetching new pages.\n                            return [3 /*break*/, 5];\n                        }\n                        pageData = cache.get(pageKey);\n                        shouldFetchPage = revalidateAll ||\n                            forceRevalidateAll ||\n                            isUndefined(pageData) ||\n                            (revalidateFirstPage && !i && !isUndefined(dataRef.current)) ||\n                            (originalData &&\n                                !isUndefined(originalData[i]) &&\n                                !config.compare(originalData[i], pageData));\n                        if (!(fn && shouldFetchPage)) return [3 /*break*/, 3];\n                        return [4 /*yield*/, fn.apply(void 0, pageArgs)];\n                    case 2:\n                        pageData = _c.sent();\n                        cache.set(pageKey, pageData);\n                        _c.label = 3;\n                    case 3:\n                        data.push(pageData);\n                        previousPageData = pageData;\n                        _c.label = 4;\n                    case 4:\n                        ++i;\n                        return [3 /*break*/, 1];\n                    case 5:\n                        // once we executed the data fetching based on the context, clear the context\n                        cache.delete(contextCacheKey);\n                        // return the data\n                        return [2 /*return*/, data];\n                }\n            });\n        }); }, config);\n        // update dataRef\n        useIsomorphicLayoutEffect(function () {\n            dataRef.current = swr.data;\n        }, [swr.data]);\n        var mutate = useCallback(function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var data = args[0];\n            // Default to true.\n            var shouldRevalidate = args[1] !== false;\n            // It is possible that the key is still falsy.\n            if (!contextCacheKey)\n                return;\n            if (shouldRevalidate) {\n                if (!isUndefined(data)) {\n                    // We only revalidate the pages that are changed\n                    var originalData = dataRef.current;\n                    cache.set(contextCacheKey, [false, originalData]);\n                }\n                else {\n                    // Calling `mutate()`, we revalidate all pages\n                    cache.set(contextCacheKey, [true]);\n                }\n            }\n            return args.length ? swr.mutate(data, shouldRevalidate) : swr.mutate();\n        }, \n        // swr.mutate is always the same reference\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [contextCacheKey]);\n        // Function to load pages data from the cache based on the page size.\n        var resolvePagesFromCache = function (pageSize) {\n            // return an array of page data\n            var data = [];\n            var previousPageData = null;\n            for (var i = 0; i < pageSize; ++i) {\n                var pageKey = serialize(getKey ? getKey(i, previousPageData) : null)[0];\n                // Get the cached page data.\n                var pageData = pageKey ? cache.get(pageKey) : UNDEFINED;\n                // Return the current data if we can't get it from the cache.\n                if (isUndefined(pageData))\n                    return dataRef.current;\n                data.push(pageData);\n                previousPageData = pageData;\n            }\n            // Return the data\n            return data;\n        };\n        // Extend the SWR API\n        var setSize = useCallback(function (arg) {\n            // It is possible that the key is still falsy.\n            if (!pageSizeCacheKey)\n                return;\n            var size;\n            if (isFunction(arg)) {\n                size = arg(resolvePageSize());\n            }\n            else if (typeof arg == 'number') {\n                size = arg;\n            }\n            if (typeof size != 'number')\n                return;\n            cache.set(pageSizeCacheKey, size);\n            lastPageSizeRef.current = size;\n            rerender({});\n            return mutate(resolvePagesFromCache(size));\n        }, \n        // `cache` and `rerender` isn't allowed to change during the lifecycle\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [pageSizeCacheKey, resolvePageSize, mutate]);\n        // Use getter functions to avoid unnecessary re-renders caused by triggering\n        // all the getters of the returned swr object.\n        return {\n            size: resolvePageSize(),\n            setSize: setSize,\n            mutate: mutate,\n            get error() {\n                return swr.error;\n            },\n            get data() {\n                return swr.data;\n            },\n            get isValidating() {\n                return swr.isValidating;\n            }\n        };\n    };\n});\nvar index = withMiddleware(useSWR, infinite);\n\nexport { index as default, infinite, unstable_serialize };\n","import React, { Dispatch, Fragment, SetStateAction, useEffect, useState } from 'react'\n\nimport Breadcrumbs from './Breadcrumbs'\nimport { Connection } from '..'\nimport { File } from '../types/File'\nimport FileDetails from './FileDetails'\nimport FilesTable from './FilesTable'\nimport LoadingTable from './LoadingTable'\nimport SaveFileForm from './SaveFileForm'\nimport Search from './Search'\nimport SlideOver from './SlideOver'\nimport Spinner from './Spinner'\nimport UploadButton from './UploadButton'\nimport { Waypoint } from 'react-waypoint'\nimport { useDebounce } from '../utils/useDebounce'\nimport { useDropzone } from 'react-dropzone'\nimport { usePrevious } from '../utils/usePrevious'\nimport useSWRInfinite from 'swr/infinite'\nimport { useUpload } from '../utils/useUpload'\n\ninterface Props {\n  /**\n   * The ID of your Unify application\n   */\n  appId: string\n  /**\n   * The ID of the consumer which you want to fetch files from\n   */\n  consumerId: string\n  /**\n   * The JSON Web Token returned from the Create Session call\n   */\n  jwt: string\n  /**\n   * The function that gets called when a file is selected\n   */\n  onSelect: (file: File) => any\n  /**\n   * The available (callable) connections\n   */\n  connections: Connection[]\n  /**\n   * The currently active connection\n   */\n  connection: Connection\n  /**\n   * The function to update the active connection\n   */\n  setConnection: Dispatch<SetStateAction<Connection | undefined>>\n  /**\n   * File to save. Forces the FilePicker to go in \"Upload\" mode and select the folder to upload the provided file\n   */\n  fileToSave: File\n}\n\nconst FilesContainer = ({\n  appId,\n  consumerId,\n  jwt,\n  onSelect,\n  connections,\n  connection,\n  setConnection,\n  fileToSave\n}: Props) => {\n  const [folderId, setFolderId] = useState<null | string>(null)\n  const [folders, setFolders] = useState<File[]>([])\n  const [file, setFile] = useState<null | File>(null)\n  const [searchTerm, setSearchTerm] = useState('')\n  const [searchResults, setSearchResults] = useState<File[]>()\n  const [isSearching, setIsSearching] = useState(false)\n  const [isSearchVisible, setIsSearchVisible] = useState(false)\n  const debouncedSearchTerm = useDebounce(searchTerm)\n  const serviceId = connection.service_id\n  const prevServiceId = usePrevious(serviceId)\n  const prevFolderId = usePrevious(folderId)\n  const searchMode = !!debouncedSearchTerm?.length\n  const headers = {\n    'Content-Type': 'application/json',\n    'x-apideck-auth-type': 'JWT',\n    'x-apideck-app-id': appId,\n    'x-apideck-consumer-id': consumerId,\n    'x-apideck-service-id': serviceId,\n    Authorization: `Bearer ${jwt}`\n  }\n\n  const fetcher = async (url: string) => {\n    const response = await fetch(url, { headers })\n    return await response.json()\n  }\n\n  const getKey = (pageIndex: number, previousPage: any) => {\n    // If we switch from connector we want the folder ID to always be root\n    const id = (prevServiceId && prevServiceId !== serviceId) || !folderId ? 'root' : folderId\n    const filterParams = id === 'shared' ? 'filter[shared]=true' : `filter[folder_id]=${id}`\n    const fileUrl = `https://unify.apideck.com/file-storage/files?limit=30&${filterParams}`\n\n    if (previousPage && !previousPage?.data?.length) return null\n    if (pageIndex === 0) return `${fileUrl}#serviceId=${serviceId}`\n\n    const cursor = previousPage?.meta?.cursors?.next\n\n    // We add the serviceId to the end of the URL so SWR caches the request results per service\n    return `${fileUrl}&cursor=${cursor}#serviceId=${serviceId}`\n  }\n\n  const { data, setSize, size, error, mutate } = useSWRInfinite(getKey, fetcher, {\n    shouldRetryOnError: false\n  })\n\n  const { uploadFile, isLoading: isUploading, progress } = useUpload({\n    onSuccess: () => {\n      mutate()\n      hideDropzone()\n    }\n  })\n\n  const onDrop = async (acceptedFiles: any) => {\n    await uploadFile({ file: acceptedFiles[0], folderId, appId, consumerId, serviceId, jwt })\n    hideDropzone()\n  }\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop })\n\n  const nextPage = () => {\n    const nextCursor = data?.length && data[data.length - 1]?.meta?.cursors?.next\n\n    if (nextCursor) {\n      setSize(size + 1)\n    }\n  }\n\n  const hideDropzone = () => {\n    const dropzoneElement = document.querySelector<HTMLElement>('.dropzone')\n    if (dropzoneElement?.style?.visibility) dropzoneElement.style.visibility = 'hidden'\n    if (dropzoneElement?.style?.opacity) dropzoneElement.style.opacity = '0'\n  }\n\n  const showDropzone = () => {\n    const dropzoneElement = document.querySelector<HTMLElement>('.dropzone')\n    if (dropzoneElement?.style) dropzoneElement.style.visibility = 'visible'\n    if (dropzoneElement?.style) dropzoneElement.style.opacity = '1'\n  }\n\n  useEffect(() => {\n    let lastTarget: EventTarget | null = null\n\n    const onEnter = function (e: DragEvent) {\n      lastTarget = e.target // cache the last target here\n      showDropzone()\n    }\n\n    const onLeave = function (e: DragEvent) {\n      if (e.target === lastTarget || e.target === document) {\n        hideDropzone()\n      }\n    }\n\n    const addDragListeners = () => {\n      window.addEventListener('dragenter', onEnter)\n      window.addEventListener('dragleave', onLeave)\n    }\n\n    const cleanupListeners = () => {\n      window.removeEventListener('dragenter', onEnter)\n      window.removeEventListener('dragleave', onLeave)\n    }\n\n    addDragListeners()\n    return () => cleanupListeners()\n  }, [])\n\n  useEffect(() => {\n    // If we switch from connector we want the folder ID to always be root except when we are in search mode\n    if ((prevServiceId && prevServiceId !== serviceId && prevFolderId === folderId) || !folderId) {\n      setFolderId('root')\n      setFolders([])\n    }\n  }, [serviceId, prevServiceId])\n\n  const handleSelect = (file: File) => {\n    if (file.type === 'folder') {\n      setFolderId(file.id)\n      if (searchMode) {\n        setSearchTerm('')\n        setIsSearchVisible(false)\n        setFolders([file])\n        // When clicking a folder in search mode, we want to change the selected connection if the folder is from a different service\n        if (file.connection?.service_id !== serviceId) {\n          setConnection(file.connection)\n        }\n      } else {\n        setFolders([...folders, file])\n      }\n    }\n\n    if (file.type === 'file') {\n      setFile(file)\n    }\n  }\n\n  const handleBreadcrumbClick = (file?: File) => {\n    if (file) {\n      setFolderId(file.id)\n      const index = folders.indexOf(file)\n      const newArray = [...folders.slice(0, index + 1)]\n      setFolders(newArray)\n    } else {\n      setFolderId('root')\n      setFolders([])\n    }\n  }\n\n  const filesError = error || (data?.length && data[data.length - 1]?.error)\n  const isLoading = !data && !error\n  const isLoadingMore = size > 0 && data && typeof data[size - 1] === 'undefined'\n\n  let files = data?.length ? data.map((page) => page?.data).flat() : data ? [data] : []\n\n  // Add Google Drive shared folder to root\n  if ((!folderId || folderId === 'root') && data?.length && serviceId === 'google-drive') {\n    const sharedFolder = { id: 'shared', name: 'Shared with me', type: 'folder' }\n    if (files?.length) {\n      files = [sharedFolder, ...files]\n    } else {\n      files.push(sharedFolder)\n    }\n  }\n\n  useEffect(() => {\n    if (debouncedSearchTerm?.length) {\n      setIsSearching(true)\n\n      const searchFiles = async (serviceId: string) => {\n        const url = 'https://unify.apideck.com/file-storage/files/search'\n        const options = {\n          headers: { ...headers, 'x-apideck-service-id': serviceId },\n          method: 'POST',\n          body: JSON.stringify({ query: debouncedSearchTerm })\n        }\n\n        const response = await fetch(url, options)\n        return response.json()\n      }\n\n      // Search across all callable connections\n      const promises = connections.map((con) => searchFiles(con.service_id))\n\n      Promise.all(promises)\n        .then((responses) => {\n          const results = responses\n            ?.map((res) =>\n              res.data?.map((file: File) => {\n                return {\n                  ...file,\n                  connection: connections.find((con) => con.service_id === res.service)\n                }\n              })\n            )\n            .flat()\n\n          // Make sure the search results of the currently active connection are first\n          const currentConnectionResults = results.filter(\n            (file) => file.connection?.service_id === connection.service_id\n          )\n          const rest = results.filter(\n            (file) => file.connection?.service_id !== connection.service_id\n          )\n          setSearchResults([...currentConnectionResults, ...rest])\n        })\n        .finally(() => setIsSearching(false))\n    }\n  }, [debouncedSearchTerm, serviceId])\n\n  const hasFiles = searchMode ? searchResults?.length : files?.length\n\n  return (\n    <Fragment>\n      <div className=\"relative flex items-center justify-between mb-2\">\n        <Breadcrumbs folders={folders} handleClick={handleBreadcrumbClick} />\n        <div className=\"flex items-center space-x-2\">\n          <Search\n            searchTerm={searchTerm}\n            setSearchTerm={setSearchTerm}\n            isSearchVisible={isSearchVisible}\n            setIsSearchVisible={setIsSearchVisible}\n          />\n          {!fileToSave ? (\n            <UploadButton\n              file={fileToSave}\n              consumerId={consumerId}\n              jwt={jwt}\n              folderId={folderId}\n              serviceId={serviceId}\n              appId={appId}\n              onSuccess={mutate}\n            />\n          ) : null}\n        </div>\n      </div>\n      {isLoading || isSearching ? <LoadingTable isSearching={isSearching} /> : null}\n      <div {...getRootProps()} className=\"relative\">\n        <input {...getInputProps()} />\n        {isDragActive || isUploading ? (\n          <div className=\"flex justify-center px-6 py-24 mt-4 border-2 border-gray-300 border-dashed rounded-md\">\n            {isUploading ? (\n              <div className=\"flex flex-col items-center\">\n                <Spinner className=\"w-6 h-6 text-gray-500\" />\n                {progress !== null ? (\n                  <div className=\"w-full h-2 mt-4 bg-gray-200 rounded\" style={{ width: 200 }}>\n                    <div\n                      className={`h-2 bg-blue-400 rounded ${progress === 100 && 'animate-ping'} `}\n                      style={{ width: `${progress}%` }}\n                    ></div>\n                  </div>\n                ) : null}\n              </div>\n            ) : (\n              <div className=\"space-y-1 text-center\">\n                <svg\n                  className=\"w-12 h-12 mx-auto text-gray-400\"\n                  stroke=\"currentColor\"\n                  fill=\"none\"\n                  viewBox=\"0 0 48 48\"\n                  aria-hidden=\"true\"\n                >\n                  <path\n                    d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\"\n                    strokeWidth={2}\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  />\n                </svg>\n                <div className=\"flex text-sm text-gray-600\">\n                  <label htmlFor=\"file-upload\" className=\"relative bg-white rounded-md\">\n                    <span>Drop here to upload to</span>\n                    <input id=\"file-upload\" name=\"file-upload\" type=\"file\" className=\"sr-only\" />\n                  </label>\n                  <p className=\"pl-1 font-medium text-indigo-600\">{connection.name}</p>\n                </div>\n                <p className=\"text-xs text-gray-500\">\n                  {folders.length ? `Folder: ${folders[folders.length - 1]?.name}` : 'Root folder'}\n                </p>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className=\"absolute inset-0 invisible w-full h-96 dropzone\" />\n        )}\n      </div>\n      {!isLoading && !isSearching && hasFiles && !filesError && !isDragActive && !isUploading ? (\n        <FilesTable\n          data={searchMode && searchResults ? searchResults : files}\n          handleSelect={handleSelect}\n          isLoadingMore={isLoadingMore}\n          searchMode={searchMode}\n          uploadingMode={!!fileToSave}\n        />\n      ) : null}\n      {!isLoading && !isSearching && !hasFiles ? (\n        <p className=\"py-4 text-sm text-center text-gray-700\">No files found</p>\n      ) : null}\n      {!isLoading ? (\n        <SlideOver open={!!file}>\n          <FileDetails file={file} setFile={setFile} onSelect={onSelect} />\n        </SlideOver>\n      ) : null}\n      {!isLoading && filesError ? (\n        <p className=\"mt-2 text-sm text-red-600\">{filesError?.message || filesError}</p>\n      ) : null}\n      {files?.length && !isLoadingMore && !searchMode ? (\n        <div className=\"flex flex-row-reverse py-4 border-gray-200\">\n          <Waypoint onEnter={() => nextPage()} />\n        </div>\n      ) : null}\n      {fileToSave && (\n        <SaveFileForm\n          file={fileToSave}\n          appId={appId}\n          consumerId={consumerId}\n          jwt={jwt}\n          folderId={folderId}\n          serviceId={serviceId}\n          onSuccess={onSelect}\n        />\n      )}\n    </Fragment>\n  )\n}\n\nexport default FilesContainer\n","import { useEffect, useRef, useState } from 'react'\n\nexport const useDebounce = (value: string, delay: number = 500) => {\n  const [currentValue, setCurrentValue] = useState(value)\n  const interval = useRef<any>(null)\n\n  const clean = () => {\n    if (interval.current !== null) {\n      clearInterval(interval.current)\n    }\n  }\n\n  useEffect(() => {\n    interval.current = setTimeout(() => {\n      setCurrentValue(value)\n    }, delay)\n    return clean\n  }, [value, delay])\n\n  useEffect(() => clean, [])\n\n  return currentValue\n}\n","import { Menu, Transition } from '@headlessui/react'\nimport React, { Dispatch, SetStateAction } from 'react'\nimport { Connection } from '../types/Connection'\nimport Spinner from './Spinner'\n\ninterface Props {\n  jwt: string\n  connection?: Connection\n  connections?: Connection[]\n  setConnection: Dispatch<SetStateAction<Connection | undefined>>\n  isLoading: boolean\n}\n\nconst SelectConnection = ({ jwt, connections, connection, setConnection, isLoading }: Props) => {\n  const redirectToVault = () => {\n    const redirectUrl = `https://vault.apideck.com/session/${jwt}`\n    window.location.href = redirectUrl\n  }\n\n  const statusColor = (connection: Connection) => {\n    if (!connection.enabled) return 'bg-gray-300'\n    if (connection.state !== 'callable') return 'bg-yellow-400'\n    return 'bg-green-400'\n  }\n\n  const handleClick = (connection: Connection) => {\n    if (connection.state === 'callable') {\n      setConnection(connection)\n      return\n    }\n    if (connection.state === 'available') {\n      // Enable integration in vault\n      const redirectUrl = `https://vault.apideck.com/integrations/file-storage/${connection?.service_id}/enable?jwt=${jwt}`\n      window.location.href = redirectUrl\n      return\n    }\n\n    // Redirect to integration settings page\n    const redirectUrl = `https://vault.apideck.com/integrations/file-storage/${connection?.service_id}?jwt=${jwt}`\n    window.location.href = redirectUrl\n  }\n\n  return (\n    <div className=\"relative inline-block\">\n      <Menu>\n        {({ open }) => (\n          <>\n            <Menu.Button\n              className=\"flex items-center justify-between w-full px-4 py-2 text-sm font-medium text-blue-800 bg-blue-100 border border-blue-200 rounded-md group hover:bg-cool-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-cool-gray-100 focus:ring-blue-600\"\n              style={{ minWidth: 180 }}\n            >\n              <div>\n                {!isLoading && connection?.icon && (\n                  <img\n                    className={`inline-block w-6 h-6 mr-2 rounded-full ${\n                      isLoading ? 'animate-spin opacity-20' : ''\n                    }`}\n                    src={!isLoading && connection?.icon ? connection?.icon : '/img/logo.png'}\n                    alt=\"\"\n                  />\n                )}\n                {isLoading && <Spinner className=\"w-6 h-6\" />}\n                {!isLoading && <span>{connection?.name || 'No integrations'}</span>}\n              </div>\n              <svg className=\"w-5 h-5 ml-2 -mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path\n                  fillRule=\"evenodd\"\n                  d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\"\n                  clipRule=\"evenodd\"\n                />\n              </svg>\n            </Menu.Button>\n            <Transition\n              show={open}\n              enter=\"transition ease-out duration-100\"\n              enterFrom=\"transform opacity-0 scale-95\"\n              enterTo=\"transform opacity-100 scale-100\"\n              leave=\"transition ease-in duration-75\"\n              leaveFrom=\"transform opacity-100 scale-100\"\n              leaveTo=\"transform opacity-0 scale-95\"\n              className=\"min-w-sm\"\n            >\n              <Menu.Items\n                static\n                className=\"absolute right-0 z-10 w-full mt-2 origin-top-right bg-white border divide-y rounded-md outline-none border-cool-gray-200 divide-cool-gray-100\"\n              >\n                <div className=\"py-1\">\n                  {connections?.map((connection: Connection, i: number) => {\n                    return (\n                      <Menu.Item key={i}>\n                        {({ active }) => (\n                          <div\n                            onClick={() => handleClick(connection)}\n                            className={`${\n                              active ? 'bg-gray-100 text-gray-900' : 'text-gray-600'\n                            } flex items-center justify-between min-w-0 mx-2 cursor-pointer rounded-md py-0.5 overflow-hidden ${\n                              connection.enabled ? '' : 'opacity-60'\n                            }`}\n                          >\n                            <img\n                              className=\"flex-shrink-0 w-6 h-6 m-2 rounded-full\"\n                              src={connection.icon}\n                              alt=\"\"\n                            />\n                            <span className=\"flex-1 min-w-0\">\n                              <span className=\"text-sm font-medium text-gray-900 truncate\">\n                                {connection.name}\n                              </span>\n                            </span>\n\n                            <span\n                              className={`inline-block w-2.5 h-2.5 mr-2 rounded-full ring-2 ring-white ${statusColor(\n                                connection\n                              )}`}\n                            ></span>\n                          </div>\n                        )}\n                      </Menu.Item>\n                    )\n                  })}\n                  <Menu.Item>\n                    {({ active }) => (\n                      <div\n                        onClick={() => redirectToVault()}\n                        className={`${\n                          active ? 'bg-gray-100 text-gray-900' : 'text-gray-600'\n                        } flex items-center justify-between min-w-0 mx-2 cursor-pointer rounded-md py-0.5 overflow-hidden`}\n                      >\n                        <svg\n                          className=\"flex-shrink-0 w-6 h-6 m-2\"\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          fill=\"none\"\n                          viewBox=\"0 0 24 24\"\n                          stroke=\"currentColor\"\n                        >\n                          <path\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            strokeWidth={2}\n                            d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n                          />\n                        </svg>\n                        <span className=\"flex-1 min-w-0\">\n                          <span className=\"text-sm font-medium text-gray-900 truncate\">\n                            Add integration\n                          </span>\n                        </span>\n                      </div>\n                    )}\n                  </Menu.Item>\n                </div>\n              </Menu.Items>\n            </Transition>\n          </>\n        )}\n      </Menu>\n    </div>\n  )\n}\n\nexport default SelectConnection\n","import React, { FC, useEffect, useState } from 'react'\n\nimport { Connection } from '../types/Connection'\nimport { File } from '../types/File'\nimport FilesContainer from './FilesContainer'\nimport SelectConnection from './SelectConnection'\nimport { ToastProvider } from '../utils/useToast'\nimport useSWR from 'swr'\n\nexport interface Props {\n  /**\n   * The ID of your Unify application\n   */\n  appId: string\n  /**\n   * The ID of the consumer which you want to fetch files from\n   */\n  consumerId: string\n  /**\n   * The JSON Web Token returned from the Create Session call\n   */\n  jwt: string\n  /**\n   * The function that gets called when a file is selected\n   */\n  onSelect: (file: File) => any\n\n  /**\n   * The function that gets called when a connection is selected\n   */\n  onConnectionSelect: (connection: Connection) => any\n  /**\n   * Title shown in the modal\n   */\n  title?: string\n  /**\n   * Subtitle shown in the modal\n   */\n  subTitle?: string\n  /**\n   * File to save. Forces the FilePicker to go in \"Upload\" mode and select the folder to upload the provided file\n   */\n  fileToSave: File\n}\n\n/**\n * The Apideck File Picker\n */\nexport const ModalContent: FC<Props> = ({\n  appId,\n  consumerId,\n  jwt,\n  onSelect,\n  onConnectionSelect,\n  title,\n  subTitle,\n  fileToSave\n}) => {\n  const [connection, setConnection] = useState<Connection>()\n\n  const getConnections = async (url: string) => {\n    const response = await fetch(url, {\n      headers: {\n        'Content-Type': 'application/json',\n        'x-apideck-consumer-id': consumerId,\n        'x-apideck-app-id': appId,\n        'x-apideck-auth-type': 'JWT',\n        Authorization: `Bearer ${jwt}`\n      }\n    })\n    return await response.json()\n  }\n\n  const { data, error } = useSWR(\n    `https://unify.apideck.com/vault/connections?api=file-storage`,\n    getConnections,\n    {\n      shouldRetryOnError: false\n    }\n  )\n  const isLoading = !data && !error\n  const hasError = data?.error || error\n  const connections = data?.data\n  const callableConnections = connections?.filter(\n    (connection: Connection) => connection.state === 'callable'\n  )\n\n  useEffect(() => {\n    if (!connection && callableConnections?.length) {\n      setConnection(callableConnections[0])\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [setConnection, callableConnections])\n\n  useEffect(() => {\n    if (connection) {\n      onConnectionSelect(connection)\n    }\n  }, [connection])\n\n  const modalHeight = document.getElementById('modal-component')?.clientHeight\n\n  return (\n    <div className=\"relative -m-6 bg-white sm:rounded-lg h-modal\" style={{ height: '34rem' }}>\n      <div className=\"flex items-center justify-between px-4 py-5 sm:px-6\">\n        <div>\n          <h3 className=\"text-lg font-medium leading-6 text-gray-900\">{title}</h3>\n          <p className=\"max-w-2xl mt-1 text-sm text-gray-500\">\n            {hasError ? (\n              <span className=\"mb-2 text-red-600\">{hasError}</span>\n            ) : (\n              <span className=\"text-gray-700 dark:text-gray-400\">\n                {connection ? subTitle : 'No connector selected'}\n              </span>\n            )}\n          </p>\n        </div>\n        <SelectConnection\n          jwt={jwt}\n          connections={connections}\n          connection={connection}\n          setConnection={setConnection}\n          isLoading={isLoading}\n        />\n      </div>\n      <div\n        className=\"px-4 py-5 overflow-y-auto border-t border-gray-200 sm:px-6\"\n        style={{\n          height:\n            typeof window !== 'undefined' && modalHeight ? modalHeight - 70 : 'calc(100% - 70px)'\n        }}\n      >\n        {connection ? (\n          <ToastProvider>\n            <FilesContainer\n              appId={appId}\n              consumerId={consumerId}\n              jwt={jwt}\n              onSelect={onSelect}\n              connections={callableConnections}\n              connection={connection}\n              setConnection={setConnection}\n              fileToSave={fileToSave}\n            />\n          </ToastProvider>\n        ) : !callableConnections?.length && !isLoading ? (\n          <div className=\"flex items-center justify-center border-2 border-gray-200 border-dashed rounded-lg h-96\">\n            <div className=\"text-center\">\n              <a\n                href={`https://vault.apideck.com/session/${jwt}`}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                className=\"text-indigo-600 hover:text-indigo-900\"\n              >\n                Go to vault\n              </a>{' '}\n              to add file storage connectors\n            </div>\n          </div>\n        ) : null}\n      </div>\n    </div>\n  )\n}\n","import React, {\n  Fragment,\n  ReactElement,\n  createContext,\n  forwardRef,\n  useEffect,\n  useState\n} from 'react'\nimport { Connection, File } from '../types'\nimport { Modal } from './Modal'\nimport { ModalContent } from './ModalContent'\n\nexport interface Props {\n  /**\n   * The ID of your Unify application\n   */\n  appId: string\n  /**\n   * The ID of the consumer which you want to fetch files from\n   */\n  consumerId: string\n  /**\n   * The JSON Web Token returned from the Create Session call\n   */\n  jwt: string\n  /**\n   * The function that gets called when a file is selected\n   */\n  onSelect?: (file: File) => any\n  /**\n   * The function that gets called when a connection is selected\n   */\n  onConnectionSelect?: (connection: Connection) => any\n  /**\n   * The component that should trigger the File Picker modal on click\n   */\n  trigger?: ReactElement\n  /**\n   * Title shown in the modal\n   */\n  title?: string\n  /**\n   * Subtitle shown in the modal\n   */\n  subTitle?: string\n  /**\n   * Show powered by Apideck in the modal backdrop\n   */\n  showAttribution?: boolean\n  /**\n   * Opens the file picker if set to true\n   */\n  open?: boolean\n  /**\n   * Callback function that gets called when the modal is closed\n   */\n  onClose?: () => any\n  /**\n   * File to save. Forces the FilePicker to go in \"Upload\" mode and only\n   * allows to change the file name and select the folder to upload the provided file to\n   */\n  fileToSave?: File | any\n}\n\nexport const EventsContext = createContext({ onSelect: undefined })\n\n/**\n * The Apideck File Picker component\n */\nexport const FilePicker = forwardRef<HTMLElement, Props>(function FilePicker(\n  {\n    appId,\n    consumerId,\n    jwt,\n    trigger,\n    onSelect,\n    onConnectionSelect,\n    title,\n    subTitle,\n    showAttribution = true,\n    open = false,\n    onClose,\n    fileToSave\n  },\n  ref\n) {\n  const [isOpen, setIsOpen] = useState<boolean>(false)\n\n  const handleFileSelect = (file: File) => {\n    let fileToReturn = file\n    if (file.connection) {\n      const { connection, ...rest } = file\n      fileToReturn = rest\n    }\n    if (onSelect) onSelect(fileToReturn)\n    onCloseModal()\n  }\n\n  const handleConnectionSelect = (connection: Connection) => {\n    if (onConnectionSelect) onConnectionSelect(connection)\n  }\n\n  const onCloseModal = () => {\n    setIsOpen(false)\n    if (onClose) {\n      onClose()\n    }\n  }\n\n  useEffect(() => {\n    if (open) {\n      setIsOpen(true)\n    }\n  }, [open])\n\n  return (\n    <Fragment>\n      {trigger ? React.cloneElement(trigger, { onClick: () => setIsOpen(true), ref }) : null}\n      <Modal isOpen={isOpen} onClose={() => onCloseModal()} showAttribution={showAttribution}>\n        <ModalContent\n          appId={appId}\n          consumerId={consumerId}\n          jwt={jwt}\n          onSelect={handleFileSelect}\n          onConnectionSelect={handleConnectionSelect}\n          title={title ? title : fileToSave ? 'Apideck File Uploader' : 'Apideck File Picker'}\n          subTitle={subTitle ? subTitle : fileToSave ? 'Select a folder' : 'Select a file'}\n          fileToSave={fileToSave}\n        />\n      </Modal>\n    </Fragment>\n  )\n})\n"],"names":["Logo","className","React","width","height","viewBox","fill","xmlns","d","transform","Modal","forwardRef","props","ref","children","onClose","isOpen","showAttribution","style","other","useState","mounted","setMounted","useEffect","modalComponent","Transition","show","Child","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","onClick","href","target","rel","maxHeight","role","id","e","stopPropagation","createPortal","document","body","runtime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","generator","create","Generator","context","Context","_invoke","state","method","arg","Error","undefined","done","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","makeInvokeMethod","fn","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","result","__await","then","unwrapped","error","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","doneResult","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","globalThis","Function","Breadcrumbs","folders","handleClick","Fragment","stroke","strokeLinecap","strokeLinejoin","strokeWidth","map","folder","as","fillRule","clipRule","formatBytes","bytes","decimals","dm","Math","floor","log","parseFloat","pow","toFixed","FileDetails","file","setFile","onSelect","size","mime_type","downloadable","created_at","Date","toLocaleDateString","toLocaleTimeString","updated_at","owner","_file$owner","_file$owner2","email","LoadingTable","isSearching","columns","Header","array","Array","from","column","_","LoadingRow","maxWidth","months","FilesTable","data","isLoadingMore","handleSelect","searchMode","uploadingMode","useMemo","accessor","Cell","row","original","date","getMonth","getDay","hour","minute","src","icon","alt","service_id","useTable","useSortBy","getTableBodyProps","rows","prepareRow","headerGroups","headerGroup","getHeaderGroupProps","headers","getHeaderProps","getSortByToggleProps","render","isSorted","isSortedDesc","getRowProps","cells","cell","getCellProps","Toast","title","description","autoClose","closeAfter","closeText","image","shouldShow","setShouldShow","removeToast","useToast","timer","setTimeout","clearTimeout","success","warning","left","ToastContext","createContext","ToastProvider","toasts","setToasts","addToast","useCallback","toast","filter","Provider","zIndex","top","ToastComponent","useContext","useUpload","onSuccess","isLoading","setIsLoading","progress","setProgress","uploadFile","folderId","jwt","appId","consumerId","serviceId","JSON","stringify","parent_folder_id","Authorization","uploadLargeFile","uploadRegularFile","fetch","raw","json","response","message","getFile","fileDetails","fileId","getPartSize","sessionId","_sessionResponse$data","partSize","rawSession","_session$data","part_size","console","currentChunkStartByte","currentChunkFinalByte","index","uploadChunk","chunk","remainingBytes","finalResponse","ceil","SaveFileForm","fileName","setFileName","placeholder","autoComplete","onChange","event","Search","setSearchTerm","searchTerm","isSearchVisible","setIsSearchVisible","inputEl","useRef","current","focus","SlideOver","open","window","innerWidth","Spinner","cx","cy","r","UploadButton","htmlFor","_e$target","files","usePrevious","noop","UNDEFINED","OBJECT","isUndefined","v","isFunction","useIsomorphicLayoutEffect","useLayoutEffect","table","WeakMap","counter","stableHash","isDate","RegExp","toJSON","toString","get","set","sort","serialize","args","concat","isArray","__assign","assign","t","s","n","arguments","p","apply","normalize","useSWR","middleware","_i","_a","config","middlewares","use","withMiddleware","useSWRNext","getKey","rerender","didMountRef","dataRef","cache","initialSize","_b","revalidateAll","_c","persistSize","_d","revalidateFirstPage","firstPageKey","getFirstPageKey","contextCacheKey","pageSizeCacheKey","resolvePageSize","cachedPageSize","lastPageSizeRef","swr","forceRevalidateAll","originalData","pageSize","previousPageData","pageKey","pageArgs","pageData","shouldFetchPage","thisArg","f","y","g","label","trys","ops","verb","throw","return","op","step","__generator","compare","delete","P","fulfilled","rejected","mutate","shouldRevalidate","setSize","resolvePagesFromCache","isValidating","FilesContainer","connections","connection","setConnection","fileToSave","setFolderId","setFolders","searchResults","setSearchResults","setIsSearching","debouncedSearchTerm","delay","currentValue","setCurrentValue","interval","clean","clearInterval","useDebounce","prevServiceId","prevFolderId","useSWRInfinite","pageIndex","previousPage","fileUrl","_previousPage$data","meta","_previousPage$meta","cursors","_previousPage$meta$cu","url","shouldRetryOnError","hideDropzone","isUploading","useDropzone","onDrop","acceptedFiles","getRootProps","getInputProps","isDragActive","dropzoneElement","querySelector","_dropzoneElement$styl","visibility","_dropzoneElement$styl2","opacity","lastTarget","onEnter","onLeave","addEventListener","removeEventListener","filesError","_data2","page","flat","sharedFolder","_files","searchFiles","options","query","promises","con","all","responses","results","res","_res$data","find","service","currentConnectionResults","rest","hasFiles","_files2","indexOf","newArray","_folders","Waypoint","_data","_data$meta","_data$meta$cursors","SelectConnection","statusColor","enabled","Menu","Button","minWidth","Items","Item","location","active","ModalContent","onConnectionSelect","subTitle","hasError","callableConnections","modalHeight","getElementById","_document$getElementB","clientHeight","trigger","setIsOpen","onCloseModal","cloneElement","fileToReturn"],"mappings":"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"}